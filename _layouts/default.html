<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    {% seo %}
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
</head>
<body class="{% if site.data.theme == 'dark' %}dark-mode{% endif %}">
    <div class="container">
        <header>
            <button id="theme-toggle" aria-label="Toggle dark mode">
                <span class="theme-icon">üåô</span>
            </button>
            <img src="{{ site.logo | relative_url }}" alt="Profile Picture" class="logo">
            <h1>{{ site.title }}</h1>
            <p>{{ site.description }}</p>
        </header>

        <main>
            {% if page.show_downloads %}
            <section class="downloads">
                <a href="{{ site.github.zip_url }}" class="btn">Download ZIP</a>
                <a href="{{ site.github.tar_url }}" class="btn">Download TAR</a>
            </section>
            {% endif %}

            <section class="content">
                {{ content }}
            </section>
        </main>
    </div>

    <script>
        const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;
        const themeIcon = document.querySelector('.theme-icon');

        // Check for saved theme preference or default to light mode
        if (localStorage.getItem('theme') === 'dark') {
            body.classList.add('dark-mode');
            themeIcon.textContent = '‚òÄÔ∏è'; // Sun for dark mode
        } else {
            themeIcon.textContent = 'üåô'; // Moon for light mode
        }

        toggleButton.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            
            // Update icon based on mode
            themeIcon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
        });
    </script>
</body>
</html>
